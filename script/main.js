document.addEventListener('contextmenu', function(e) {
    e.preventDefault();
});

document.addEventListener('keydown', function(e) {
    if ((e.ctrlKey || e.metaKey) && (e.key === 'c' || e.key === 'C')) {
        e.preventDefault();
    }
});
const messages = [
    "âœ¨ ĞšĞµĞ· ĞºĞµĞ»Ğ³ĞµĞ½ Ğ¶ĞµÑ€Ğ³Ğµ Ğ±Ğ°Ñ! âœ¨",  
    "Ğ¡Ó™Ğ»ĞµĞ¼ ğŸ™ƒğŸ‘‹",  
    "ĞœĞµĞ½ ÑĞ°Ò“Ğ°Ğ½ Ğ±Ñ–Ñ€ Ğ½Ó™Ñ€ÑĞµ Ğ°Ğ¹Ñ‚Ò›Ñ‹Ğ¼ ĞºĞµĞ»ĞµĞ´Ñ–... ğŸ‘‰ğŸ»ğŸ‘ˆğŸ»ğŸ¥º",  
    "ÒšĞ°Ğ½Ğµ, Ğ±Ğ°Ğ¹Ò›Ğ°Ğ¿ ĞºÓ©Ñ€ ğŸ‘€",  
    "Ğ¢Ğ°Ò“Ñ‹ Ğ´Ğ° Ğ±Ğ°ÑÑ‹Ğ¿ ĞºÓ©Ñ€ ğŸ¤¨ğŸ‘‡",  
    "Ğ–Ğ°Ñ€Ğ°Ğ¹Ğ´Ñ‹, Ğ±Ğ°ÑĞ° Ğ±ĞµÑ€, Ğ±ĞµÑ€Ñ–Ğ»Ğ¼Ğµ! ğŸ’ªğŸ”¥",  
    "Ğ£Ó™Ğ´Ğµ Ğ±ĞµÑ€ĞµĞ¼Ñ–Ğ½, Ğ±Ò±Ğ» ÑĞ¾Ò£Ò“Ñ‹ Ñ€ĞµÑ‚ ğŸ¤ğŸ˜‡",  
    "Ğ¨Ñ‹Ğ½Ñ‹Ğ¼ĞµĞ½... ğŸ¤”",  
    "Ğ‘Ò±Ğ»... ğŸ˜¶",  
    "Ğ¡Ğ¾Ò£Ò“Ñ‹... ğŸ«£",  
    "Ğ‘Ñ–Ñ€Ğ°Ò› Ğ±Ò±Ğ» Ó™Ğ·Ñ–Ğ» Ò“Ğ¾Ğ¹, Ñ…ĞµÑ…Ğµ, Ñ…Ğ°-Ñ…Ğ°-Ñ…Ğ°! ğŸ¤­ğŸ˜‚ Ğ¢Ğ°Ò“Ñ‹ Ğ±Ğ°Ñ! ğŸ¤ª",  
    "Ğ‘Ñ–Ğ»ĞµĞ¼Ñ–Ğ½, ÑĞµĞ½ Ò›Ğ°Ğ·Ñ–Ñ€ Ğ°ÑˆÑƒĞ»Ğ°Ğ½Ğ° Ğ±Ğ°ÑÑ‚Ğ°Ğ´Ñ‹Ò£ ğŸ˜¤ğŸ˜¡",  
    "Ğ¥Ğ¼Ğ¼... ğŸ§",  
    "Ğ–Ğ°Ò›ÑÑ‹, Ğ¶Ğ°Ñ€Ğ°Ğ¹Ğ´Ñ‹ ğŸ¤·â€â™‚ï¸",  
    "Ğ‘Ñ–Ñ€Ğ°Ò›... ğŸ¤¨",  
    "ĞœĞµĞ½ Ğ¶Ğ°Ğ¹ Ò“Ğ°Ğ½Ğ° Ğ°Ğ¹Ñ‚Ò›Ñ‹Ğ¼ ĞºĞµĞ»Ğ³ĞµĞ½Ñ–... ğŸ˜Œ",  
    "ĞœĞµĞ½ ÑĞµĞ½Ñ– Ğ¶Ğ°Ò›ÑÑ‹ ĞºÓ©Ñ€ĞµĞ¼Ñ–Ğ½ â¤ï¸ğŸ¥°",  
    "ĞšÒ¯Ğ½Ñ–Ğ¼! â˜€ï¸ğŸ’–",  
    "Ğ¢Ó©Ğ¼ĞµĞ½Ğ´ĞµĞ³Ñ– Ñ‚Ò¯Ğ¹Ğ¼ĞµĞ½Ñ– Ğ±Ğ°ÑÑ‹Ğ¿ ĞºÓ©Ñ€ ğŸ’ğŸ‘‡"
];

  
let currentPage = 0;
let isLastPage = false;

function showMessage() {
    $('.message').text(messages[currentPage]);
    
    isLastPage = currentPage === messages.length - 1;
    
    if (isLastPage) {
        $('.next-button').show();
        $('.bg_heart').css('cursor', 'default');
    } else {
        $('.next-button').hide();
        $('.bg_heart').css('cursor', 'pointer');
    }
}

$('.bg_heart').on('click', function() {
    if (!isLastPage) {
        currentPage++;
        showMessage();
    }
});

var love = setInterval(function() {
    var r_num = Math.floor(Math.random() * 40) + 1;
    var r_size = Math.floor(Math.random() * 65) + 10;
    var r_left = Math.floor(Math.random() * 100) + 1;
    var r_bg = Math.floor(Math.random() * 25) + 100;
    var r_time = Math.floor(Math.random() * 5) + 5;
    
    $('.bg_heart').append("<div class='heart' style='width:" + r_size + "px;height:" + r_size + "px;left:" + r_left + "%;background:rgba(255," + (r_bg - 25) + "," + r_bg + ",1);animation:love " + r_time + "s ease'></div>");
    
    $('.bg_heart').append("<div class='heart' style='width:" + (r_size - 10) + "px;height:" + (r_size - 10) + "px;left:" + (r_left + r_num) + "%;background:rgba(255," + (r_bg - 25) + "," + (r_bg + 25) + ",1);animation:love " + (r_time + 5) + "s ease'></div>");
    
    $('.heart').each(function() {
        var top = parseFloat($(this).css("top"));
        var width = parseFloat($(this).css("width"));
        if (top <= -100 || width >= 150) {
            $(this).remove();
        }
    });
}, 500);

showMessage();

function clearMusicState() {
    localStorage.removeItem('musicPlaying');
    localStorage.removeItem('musicCurrentTime');
}

window.onload = function() {
    clearMusicState(); 
}

function setupMusic() {
    const music = document.getElementById('backgroundMusic');
    
    if (!localStorage.getItem('initialLoad')) {
        clearMusicState();
        localStorage.setItem('initialLoad', 'true');
        music.currentTime = 0;
    }

    const isMusicPlaying = localStorage.getItem('musicPlaying') === 'true';
    const musicCurrentTime = localStorage.getItem('musicCurrentTime') || 0;

    if (isMusicPlaying) {
        music.currentTime = parseFloat(musicCurrentTime);
        music.play().catch(error => console.log('Playback failed', error));
    }

    music.addEventListener('play', () => {
        localStorage.setItem('musicPlaying', 'true');
    });

    music.addEventListener('pause', () => {
        localStorage.setItem('musicPlaying', 'false');
    });

    setInterval(() => {
        localStorage.setItem('musicCurrentTime', music.currentTime);
    }, 1000);

    document.addEventListener('click', function startMusic() {
        music.play().catch(error => {
            console.log('Autoplay prevented', error);
        });
        document.removeEventListener('click', startMusic);
    });
}

document.addEventListener('DOMContentLoaded', setupMusic);